<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head th:include="fragments/page-header :: head (title='Products')">
</head>
<body>
<div class="container">
    <nav th:replace="fragments/nav-bar :: nav"></nav>
    <h1>
        Products &nbsp;
        <a class="btn btn-primary" th:href="@{/products/new}"><i class="glyphicon glyphicon-plus-sign"></i>&nbsp;New</a>
    </h1>
    <div class="alert alert-success alert-dismissible" role="alert" th:if="${deleted}">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        Product deleted successfully!
    </div>
    <table class="table">
        <thead>
        <tr>
            <th>Id <span th:include="fragments/sort-header :: sort (url='/products', attr='id')" ></span></th>
            <th>Name <span th:include="fragments/sort-header :: sort (url='/products', attr='name')" ></span></th>
            <th>Description <span th:include="fragments/sort-header :: sort (url='/products', attr='description')" ></span></th>
            <th>Price <span th:include="fragments/sort-header :: sort (url='/products', attr='price')" ></span></th>
            <th>Available <span th:include="fragments/sort-header :: sort (url='/products', attr='available')" ></span></th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="p : ${page.getContent()}">
            <td th:text="${p.id}"></td>
            <td th:text="${p.name}"></td>
            <td th:text="${p.description}"></td>
            <td th:text="${p.price}"></td>
            <td th:text="${p.available}"></td>
            <td th:include="fragments/buttons :: table-action (url='/products/{id}', id=${p.id})"></td>
        </tr>
        </tbody>
    </table>
    <nav th:include="fragments/pagination :: pagination (url='/products')"></nav>
</div>
</body>
</html>